<!DOCTYPE html>

<html lang="nei">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
        Enhet egenvekt
    </title>
    <meta name="apple-mobile-web-app-title" content="BrewPiLess">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script>
function invoke(arg) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4) {
            if (xhttp.status == 200) {
                arg.success(xhttp.responseText);
            } else {
                xhttp.onerror(xhttp.status);
            }
        }
    };
    xhttp.ontimeout = function() {
            if (typeof arg["timeout"] != "undefined")
                arg.timeout();
            else
                xhttp.onerror(-1);
        },
        xhttp.onerror = function(a) {
            if (typeof arg["fail"] != "undefined")
                arg.fail(a);
        };

    xhttp.open(arg.m, arg.url, true);
    if (typeof arg["data"] != "undefined") {
        xhttp.setRequestHeader("Content-Type", (typeof arg["mime"] != "undefined") ? arg["mime"] : "application/x-www-form-urlencoded");
        xhttp.send(arg.data);
    } else
        xhttp.send();
}

var BWF = {
//    BrewProfile: "/brewing.json",
    process: function(msg) {
        if (this.raw != null) {
            this.raw(msg);
            return;
        }
        //console.log("rcv:" + msg);
        eval("m={" + msg + "}");
        //	console.log("json:"+m);
        for (var key in m) {
            if (typeof this.handlers[key] != "undefined") {
                this.handlers[key](m[key]);
            }
        }
    },
    on: function(lb, handler) {
        this.handlers[lb] = handler;
    },
    send: function(data) {
        if (this.ws.readyState == 1) this.ws.send(data);
    },
    reconnecting: false,
    status:function(){
        if(typeof this.ws == "undefined") return -1; // not initialized
        if(this.ws.readyState == 1) return 0;
        return 1;  
    },
    connect: function() {
        var me = this;
        if (typeof WebSocket !== "undefined") {
            var ws = new WebSocket('ws://' + document.location.host + '/ws');
            me.ws = ws;
            ws.onopen = function() {
                console.log("Connected");
                me.onconnect();
            };

            ws.onclose = function() {
                if (me.reconnecting) return;
                console.log("WS close");
                me.error(-2);
                if (me.auto) setTimeout(function() { me.reconnect(); }, 5000);
            };

            /*ws.onerror = function() {
                console.log("ws error");
            };*/

            ws.onmessage = function(e) {
                me.process(e.data);
            };
        } else {
            //console.log("not support WebSocket");
            alert("Error! WebSocket Not Supported!");
        }
    },
    reconnect: function(forced) {
        forced = (typeof forced == "undefined") ? false : true;
        var me = this;
        if (me.reconnecting) return;
        if (!forced && me.ws.readyState == 1) return;
        console.log("reconnect forced:" + forced + " state:" + me.ws.readyState);
        me.reconnecting = true;
        me.ws.close();
        // this might triger onerror, and result in "reconnect" call again.
        me.connect();
        me.reconnecting = false;
    },
    init: function(arg) {
        var b = this;
        b.error = (typeof arg.error == "undefined") ? function() {} : arg.error;
        b.handlers = (typeof arg.handlers == "undefined") ? {} : arg.handlers;
        b.raw = (typeof arg.raw == "undefined") ? null : arg.raw;
        b.onconnect = (typeof arg.onconnect == "undefined") ? function() {} : arg.onconnect;
        b.auto = (typeof arg.reconnect == "undefined") ? true : arg.reconnect;

        b.connect();
    },
    save: function(file, data, success, fail) {
        invoke({
            m: "POST",
            url: "/fputs",
            data: "path=" + file + "&content=" + encodeURIComponent(data),
            success: function() { success(); },
            fail: function(e) { fail(e); }
        });
    },
    load: function(file, success, fail) {
        invoke({
            m: "GET",
            url: file,
            success: function(d) { success(d); },
            fail: function(e) { fail(e); }
        });
    }
};
</script>
    <script>
var JSVERSION = "4.2";

function s_ajax(b) {
    var c = new XMLHttpRequest();
    c.onreadystatechange = function() {
        if (c.readyState == 4) {
            if (c.status == 200) {
                b.success(c.responseText)
            } else {
                c.onerror(c.status)
            }
        }
    };
    c.ontimeout = function() {
        if (typeof b["timeout"] != "undefined") b.timeout();
        else c.onerror(-1)
    }, c.onerror = function(a) {
        if (typeof b["fail"] != "undefined") b.fail(a)
    };
    c.open(b.m, b.url, true);
    if (typeof b["data"] != "undefined") {
        c.setRequestHeader("Content-Type", (typeof b["mime"] != "undefined") ? b["mime"] : "application/x-www-form-urlencoded");
        c.send(b.data)
    } else c.send()
}

var Q = function(d) {
    return document.querySelector(d);
};

function doAll(c,act){
    document.querySelectorAll(c).forEach(function(i){act(i)});
}

function C2F(c) {
    return Math.round((c * 1.8 + 32) * 10) / 10
}

function F2C(f) {
    return Math.round((f - 32) / 1.8 * 10) / 10
}

function openDlgLoading() {
    document.getElementById('dlg_loading').style.display = "block";
}

function closeDlgLoading() {
    document.getElementById('dlg_loading').style.display = "none";
}

var BrewMath = {
    abv: function(og, fg) {
        return ((76.08 * (og - fg) / (1.775 - og)) * (fg / 0.794)).toFixed(1);
    },
    abvP: function(og, fg) {
        return BrewMath.abv(BrewMath.pla2sg(og), BrewMath.pla2sg(fg));
    },
    att: function(og, fg) {
        return Math.round((og - fg) / (og - 1) * 100);
    },
    attP: function(pog, pfg) {
        return Math.round((pog - pfg) / pog * 100);
    },
    sg2pla: function(sg) {
        return (((182.4601 * sg - 775.6821) * sg + 1262.7794) * sg - 669.5622);
    },
    pla2sg: function(pla) {
        return 1 + (pla / (258.6 - ((pla / 258.2) * 227.1)));
    },
    tempCorrectionF(sg, t, c) {
        var nsg = sg * ((1.00130346 - 0.000134722124 * t + 0.00000204052596 * t * t - 0.00000000232820948 * t * t * t) /
            (1.00130346 - 0.000134722124 * c + 0.00000204052596 * c * c - 0.00000000232820948 * c * c * c));
        return nsg;
    },
    pTempCorrectionF(sg, t, c) {
        return BrewMath.sg2pla(BrewMath.tempCorrectionF(BrewMath.pla2sg(sg), t, c));
    },
    tempCorrection(celsius, sg, t, c) {
        return celsius ? BrewMath.tempCorrectionF(sg, C2F(t), C2F(c)) : BrewMath.tempCorrectionF(sg, t, c);
    },
    pTempCorrection(celsius, sg, t, c) {
        return celsius ? BrewMath.pTempCorrectionF(sg, C2F(t), C2F(c)) : BrewMath.tempCorrectionF(sg, t, c);
    }
};

Date.prototype.shortLocalizedString = function() {
    var y = this.getYear() + 1900;
    var re = new RegExp('[^\d]?' + y + '[^\d]?');
    var n = this.toLocaleDateString();
    var ds = n.replace(re, "");
    var HH = this.getHours();
    var MM = this.getMinutes();

    function T(x) {
        return (x > 9) ? x : ("0" + x);
    }
    return ds + " " + T(HH) + ":" + T(MM);
};

function getActiveNavItem() {
    var path = window.location.pathname.split("/").pop();
    if (path == "") path = "index.htm";
    var element = Q('.options>li>a[href="/' + path + '"]');
    if(element) element.className += 'active';
}

function formatDate(dt) {
    //	var y = dt.getFullYear();
    //	var M = dt.getMonth() +1;
    //	var d = dt.getDate();
    var h = dt.getHours();
    var m = dt.getMinutes();
    //    var s = dt.getSeconds();
    function dd(n) {
        return (n < 10) ? '0' + n : n;
    }
    //	return dd(M) + "/" + dd(d) + "/" + y +" "+ dd(h) +":"+dd(m)+":"+dd(s);
    //	return dd(M) + "/" + dd(d) +" "+ dd(h) +":"+dd(m);
    return dt.toLocaleDateString() + " " + dd(h) + ":" + dd(m);
}

function formatDateForPicker(date) {
    var h = date.getHours();
    var m = date.getMinutes();

    function dd(n) { return (n < 10) ? '0' + n : n; }
    return date.getFullYear() + "-" + dd(date.getMonth() + 1) + "-" + dd(date.getDate()) + "T" + dd(h) + ":" + dd(m);
}
</script>
    <script>
        /* Regression.JS */
        /* the librar is embedded for your convenience .*/
        /**
         * @license
         *
         * Regression.JS - Regression functions for javascript
         * http://tom-alexander.github.com/regression-js/
         *
         * copyright(c) 2013 Tom Alexander
         * Licensed under the MIT license.
         *
         * @module regression - Least-squares regression functions for JavaScript
         **/
        ! function(a, b) {
            var c;
            return c = "function" == typeof define && define.amd ? define("regression", b) : "undefined" != typeof module ? module.exports = b() : a.regression = b()
        }(this, function() {
            "use strict";

            function a(a, b) {
                var c = a.reduce(function(a, b) {
                        return a + b[1]
                    }, 0),
                    d = c / a.length,
                    e = a.reduce(function(a, b) {
                        var c = b[1] - d;
                        return a + c * c
                    }, 0),
                    f = a.reduce(function(a, c, d) {
                        var e = b[d],
                            f = c[1] - e[1];
                        return a + f * f
                    }, 0);
                return 1 - f / e
            }

            function b(a, b) {
                var c = 0,
                    d = 0,
                    e = 0,
                    f = 0,
                    g = 0,
                    h = a.length - 1,
                    i = new Array(b);
                for (c = 0; h > c; c++) {
                    for (f = c, d = c + 1; h > d; d++) Math.abs(a[c][d]) > Math.abs(a[c][f]) && (f = d);
                    for (e = c; h + 1 > e; e++) g = a[e][c], a[e][c] = a[e][f], a[e][f] = g;
                    for (d = c + 1; h > d; d++)
                        for (e = h; e >= c; e--) a[e][d] -= a[e][c] * a[c][d] / a[c][c]
                }
                for (d = h - 1; d >= 0; d--) {
                    for (g = 0, e = d + 1; h > e; e++) g += a[e][d] * i[e];
                    i[d] = (a[h][d] - g) / a[d][d]
                }
                return i
            }

            function c(a, b) {
                var c = Math.pow(10, b);
                return Math.round(a * c) / c
            }
            var d, e = 2,
                f = {
                    linear: function(b, d, e) {
                        for (var f, g, h, i = [0, 0, 0, 0, 0], j = b.length, k = 0; j > k; k++) null !== b[k][1] && (i[0] += b[k][0], i[1] += b[k][1], i[2] += b[k][0] * b[k][0], i[3] += b[k][0] * b[k][1], i[4] += b[k][1] * b[k][1]);
                        return g = (j * i[3] - i[0] * i[1]) / (j * i[2] - i[0] * i[0]), h = i[1] / j - g * i[0] / j, f = b.map(function(a) {
                            var b = a[0];
                            return [b, g * b + h]
                        }), {
                            r2: a(b, f),
                            equation: [g, h],
                            points: f,
                            string: "y = " + c(g, e.precision) + "x + " + c(h, e.precision)
                        }
                    },
                    linearthroughorigin: function(b, d, e) {
                        for (var f, g, h = [0, 0], i = 0; i < b.length; i++) null !== b[i][1] && (h[0] += b[i][0] * b[i][0], h[1] += b[i][0] * b[i][1]);
                        return f = h[1] / h[0], g = b.map(function(a) {
                            var b = a[0];
                            return [b, f * b]
                        }), {
                            r2: a(b, g),
                            equation: [f],
                            points: g,
                            string: "y = " + c(f, e.precision) + "x"
                        }
                    },
                    exponential: function(b, d, e) {
                        for (var f, g, h, i, j = [0, 0, 0, 0, 0, 0], k = 0; k < b.length; k++) null !== b[k][1] && (j[0] += b[k][0], j[1] += b[k][1], j[2] += b[k][0] * b[k][0] * b[k][1], j[3] += b[k][1] * Math.log(b[k][1]), j[4] += b[k][0] * b[k][1] * Math.log(b[k][1]), j[5] += b[k][0] * b[k][1]);
                        return f = j[1] * j[2] - j[5] * j[5], g = Math.exp((j[2] * j[3] - j[5] * j[4]) / f), h = (j[1] * j[4] - j[5] * j[3]) / f, i = b.map(function(a) {
                            var b = a[0];
                            return [b, g * Math.exp(h * b)]
                        }), {
                            r2: a(b, i),
                            equation: [g, h],
                            points: i,
                            string: "y = " + c(g, e.precision) + "e^(" + c(h, e.precision) + "x)"
                        }
                    },
                    logarithmic: function(b, d, e) {
                        for (var f, g, h, i = [0, 0, 0, 0], j = b.length, k = 0; j > k; k++) null !== b[k][1] && (i[0] += Math.log(b[k][0]), i[1] += b[k][1] * Math.log(b[k][0]), i[2] += b[k][1], i[3] += Math.pow(Math.log(b[k][0]), 2));
                        return g = (j * i[1] - i[2] * i[0]) / (j * i[3] - i[0] * i[0]), f = (i[2] - g * i[0]) / j, h = b.map(function(a) {
                            var b = a[0];
                            return [b, f + g * Math.log(b)]
                        }), {
                            r2: a(b, h),
                            equation: [f, g],
                            points: h,
                            string: "y = " + c(f, e.precision) + " + " + c(g, e.precision) + " ln(x)"
                        }
                    },
                    power: function(b, d, e) {
                        for (var f, g, h, i = [0, 0, 0, 0], j = b.length, k = 0; j > k; k++) null !== b[k][1] && (i[0] += Math.log(b[k][0]), i[1] += Math.log(b[k][1]) * Math.log(b[k][0]), i[2] += Math.log(b[k][1]), i[3] += Math.pow(Math.log(b[k][0]), 2));
                        return g = (j * i[1] - i[2] * i[0]) / (j * i[3] - i[0] * i[0]), f = Math.exp((i[2] - g * i[0]) / j), h = b.map(function(a) {
                            var b = a[0];
                            return [b, f * Math.pow(b, g)]
                        }), {
                            r2: a(b, h),
                            equation: [f, g],
                            points: h,
                            string: "y = " + c(f, e.precision) + "x^" + c(g, e.precision)
                        }
                    },
                    polynomial: function(d, e, f) {
                        var g, h, i, j, k, l, m, n, o = [],
                            p = [],
                            q = 0,
                            r = 0,
                            s = d.length;
                        for (h = "undefined" == typeof e ? 3 : e + 1, i = 0; h > i; i++) {
                            for (k = 0; s > k; k++) null !== d[k][1] && (q += Math.pow(d[k][0], i) * d[k][1]);
                            for (o.push(q), q = 0, g = [], j = 0; h > j; j++) {
                                for (k = 0; s > k; k++) null !== d[k][1] && (r += Math.pow(d[k][0], i + j));
                                g.push(r), r = 0
                            }
                            p.push(g)
                        }
                        for (p.push(o), m = b(p, h), l = d.map(function(a) {
                                var b = a[0],
                                    c = m.reduce(function(a, c, d) {
                                        return a + c * Math.pow(b, d)
                                    }, 0);
                                return [b, c]
                            }), n = "y = ", i = m.length - 1; i >= 0; i--) n += i > 1 ? c(m[i], f.precision) + "x^" + i + " + " : 1 === i ? c(m[i], f.precision) + "x + " : c(m[i], f.precision);
                        return {
                            r2: a(d, l),
                            equation: m,
                            points: l,
                            string: n
                        }
                    },
                    lastvalue: function(b, d, e) {
                        for (var f = [], g = null, h = 0; h < b.length; h++) null !== b[h][1] && isFinite(b[h][1]) ? (g = b[h][1], f.push([b[h][0], b[h][1]])) : f.push([b[h][0], g]);
                        return {
                            r2: a(b, f),
                            equation: [g],
                            points: f,
                            string: "" + c(g, e.precision)
                        }
                    }
                };
            return d = function(a, b, c, d) {
                var g = "object" == typeof c && "undefined" == typeof d ? c : d || {};
                return g.precision || (g.precision = e), "string" == typeof a ? f[a.toLowerCase()](b, c, g) : null
            }
        });
        /*** end of Regression.JS **/
</script>
    <script>
var gdcurl = "/gdc";

function toFixed() {
    var texts = document.querySelectorAll("input[type=text]");
    for (var i = 0; i < texts.length; i++) {
        texts[i].onchange = function() {
            if (this.value.match(/[\-\d\.]+e[\+\-][\d]+/))
                this.value = Number(this.value).toFixed(9);
        };
    }
}
function ptcConvert(pts,en){
    var ret=[];
    pts.forEach(function(pt){
        if(en) ret.push([pt[0]*1000,pt[1]*1000]);
        else ret.push([pt[0]/1000,pt[1]/1000]);
    });
    return ret;
}

function fill(setting) {
    for (var name in setting) {
        var ele = Q("input[name=" + name + "]");
        if (ele) {
            if (ele.type == "checkbox") ele.checked = setting[name];
            else ele.value = setting[name];
        }
    }
    if(setting.dev == 1){
        Q("#tilthydrometer").checked = false;
        Q("#ispindel").checked = true;
    }else if(setting.dev == 2){
        Q("#tilthydrometer").checked = true;
        Q("#ispindel").checked = false;
    }else{
        Q("#tilthydrometer").checked = false;
        Q("#ispindel").checked = false;
    }
    if(typeof setting["color"] != "undefined") Q("#tiltcolor").value = setting.color;
    if(typeof setting["tcpts"] != "undefined"){
        TCEditor.setPoints(ptcConvert(setting.tcpts,false));
    }
}

function getTiltCals(pts){
    if(pts.length ==0){
        return [0,1,0,0];
    } else if(pts.length ==1){
        return [pts[0][1] - pts[0][0] ,1,0,0];
    } else {
        var poly = regression('polynomial', pts, (pts.length > 3) ? 3 : ((pts.length > 2) ? 2 : 1), {
            precision: 9
        });
        return [
            poly.equation[0],
            poly.equation[1],
            (pts.length > 2)? poly.equation[2]:0,
            (pts.length > 3)? poly.equation[3]:0,
        ];
    }
}

function save() {
    var inputs = document.getElementsByTagName("input");
    var setting = {};
    for (var i = 0; i < inputs.length; i++) {
        var ele = inputs[i];
        if(ele.name != "ispindel" && ele.name!="tilthydrometer"){
            if (ele.type == "checkbox") setting[ele.name] = ele.checked;
            else if (ele.type == "text") setting[ele.name] = ele.value;
        }
    }
    setting.color =  Q("#tiltcolor").value;
    setting.tcpts= ptcConvert(TCEditor.getPoints(),1);
    setting.tiltcoe = getTiltCals(TCEditor.getPoints());
    setting.dev = Q("#tilthydrometer").checked? 2:(Q("#ispindel").checked? 1:0);
    //    console.log("result=" + setting);
    s_ajax({
        url: gdcurl,
        m: "POST",
        mime: "aplication/json",
        data: JSON.stringify(setting),
        success: function(a) {
            alert("Ferdig");
        },
        fail: function(a) {
            alert("kunne ikke oppdatere data:" + a)
        }
    });
}

function displaysub(){
    if (Q("#tilthydrometer").checked){
        doAll(".tiltsub",function(div){
            div.style.display="";
        });
    }else{
        doAll(".tiltsub",function(div){
            div.style.display="none";
        });
    }

    if (Q("#ispindel").checked){
        doAll(".ispindelsub",function(div){
            div.style.display="";
        });        
    }else{
        doAll(".ispindelsub",function(div){
            div.style.display="none";
        });        
    }
}
function validSG(g){
    if(g > 0.8 && g<1.5) return true;
    return false;
}
var TCEditor={
init:function(){
    var tr=Q("#tiltcalpoints tr.calpoint");
    tr.parentNode.removeChild(tr);
    this.tr=tr;
    this.points=[];
},
getPoints:function(){
    return this.points;
},
setPoints:function(points){
    this.points=points;
    this.render();
},
add:function(){
    var uncal = parseFloat(Q("#uncalvalue").value);
    var cal = parseFloat(Q("#calvalue").value);
    if(!validSG(uncal) || !validSG(cal)) return;

    this.points.push([uncal,cal]);
    Q("#tiltcalpoints tbody").appendChild(this.newPoint(this.points.length-1 ,[uncal,cal]));
},
clear:function(){
    doAll("#tiltcalpoints tr.calpoint",function(div){
        div.parentNode.removeChild(div);
    });
    this.points=[];
},
newPoint:function(idx,data){
    var tr= this.tr.cloneNode(true);
    var t=this;
    tr.querySelector(".delbutton").onclick=function(e){
        e.preventDefault();
        console.log("del "+idx);
        t.points.splice(idx,1);
        doAll("#tiltcalpoints tr.calpoint",function(div){
            div.parentNode.removeChild(div);
        });
        t.render();
        return false;
    };

    tr.querySelector(".uncaldata").innerHTML="" + data[0];
    tr.querySelector(".caldata").innerHTML="" + data[1];

    return tr;
},

render:function(){
    for(var i=0;i< this.points.length;i++){
        var tr=this.newPoint(i,this.points[i]);
        Q("#tiltcalpoints tbody").appendChild(tr);
    }
}
};

function tiltcal(){
    Q("#dlg_addcalpoint").style.display="block";
    readTilt();
}
function closeTiltCal(){
    Q("#dlg_addcalpoint").style.display="none";
    return false;
}
function scan(){
    s_ajax({
        url: "/tcmd?scan=1",
        success: function(a) {
        },
        fail: function(a) {
            Q("#scanreading").innerHTML="error requesting data";
            rescan();
        }
    });

}
function rescan(){
    setTimeout(function(){
        scan();
    },5000);
}
function scanResult(r){
    //"tilts:[{c:"color",r:"rssi",g:"gravity",t:"temperature"}]"
    var target = Q("#tiltcolor").value;
    var label =  Q("#tiltcolor").options[Q("#tiltcolor").selectedIndex].text;
    if(typeof r["tilts"]!= "undefined"){
        r.tilts.forEach(function(tilt){
            console.log("color:"+ tilt.c + " rssi:"+tilt.r+" gravity:"+tilt.g+" temp:"+tilt.t);
            if(tilt.c == target){
                var temp= (window.TU=="F")? tilt.t:F2C(tilt.t) ;
                Q("#scanreading").innerHTML="Tilt&trade; " +label + " : " + (tilt.g/1000) + " @ " + 
                   temp +"&deg;" + window.TU;
            }
        });
    }
}
function readTilt(){
    if(typeof window.connect != "undefined") return;
    window.connect=true;
    window.TU = 'F';
    BWF.init({
        //     reconnect: false,
        onconnect: function() {
            // send 
            scan();
        },
        error:function(e){
            Q("#scanreading").innerHTML="error connecting controller.";
        },
        handlers:{
            T:function(j){
                scanResult(j);
                rescan();                
            },
            A:function(info){
                if(typeof info["tu"] != "undefined") window.TU = info.tu;
            }
        }});
    return false;
}

function init(classic) {
    if (typeof classic == "undefined") classic = false;

    Q("#tilthydrometer").onchange=function(){
        if(this.checked) Q("#ispindel").checked = false;
        displaysub();
    };

    Q("#ispindel").onchange=function(){
        if(this.checked) Q("#tilthydrometer").checked = false;
        displaysub();
    };


    toFixed();
    s_ajax({
        url: gdcurl + "?data",
        m: "GET",
        success: function(a) {
            fill(JSON.parse(a));
            displaysub();
        },
        fail: function(a) {
            alert("failed getting data:" + a)
        }
    });
    TCEditor.init();
//    TCEditor.setPoints([[1.003,1.0],[1.063,1.060],[1.045,1.046]]);

    if (!classic) {
        getActiveNavItem();
        Q("#verinfo").innerHTML = "v" + JSVERSION;
    }

}
</script>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <style>
/** Colors **/
* {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
}

/* https://github.com/Dogfalo/materialize/blob/master/sass/components/_typography.scss */
a {
  text-decoration: none;
}

html {
  line-height: 1.5;
  font-family: "Roboto", sans-serif;
  font-weight: normal;
  color: rgba(0, 0, 0, 0.87);
}
@media only screen and (min-width: 0) {
  html {
    font-size: 14px;
  }
}
@media only screen and (min-width: 992px) {
  html {
    font-size: 14.5px;
  }
}
@media only screen and (min-width: 1200px) {
  html {
    font-size: 15px;
  }
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 400;
  line-height: 1.1;
}

h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
  font-weight: inherit;
}

h1 {
  font-size: 4.2rem;
  line-height: 110%;
  margin: 2.1rem 0 1.68rem 0;
}

h2 {
  font-size: 3.56rem;
  line-height: 110%;
  margin: 1.78rem 0 1.424rem 0;
}

h3 {
  font-size: 2.92rem;
  line-height: 110%;
  margin: 1.46rem 0 1.168rem 0;
}

h4 {
  font-size: 2.28rem;
  line-height: 110%;
  margin: 1.14rem 0 0.912rem 0;
}

h5 {
  font-size: 1.64rem;
  line-height: 110%;
  margin: 0.82rem 0 0.656rem 0;
}

h6 {
  font-size: 1rem;
  line-height: 110%;
  margin: 0.5rem 0 0.4rem 0;
}

em {
  font-style: italic;
}

strong {
  font-weight: 500;
}

small {
  font-size: 75%;
}

.light {
  font-weight: 300;
}

.thin {
  font-weight: 200;
}

/*
* ------------------------------------------------------------------------------------------------- DO NOT MODIFY THIS FILE!
* This CSS maps the layout attributes and the flex-item attributes to the style information.
*/
/*******************************
Flex Layout
*******************************/
html [layout], html [layout][horizontal], html [layout][vertical] {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

html [layout][horizontal] {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -ms-flex-direction: row;
      flex-direction: row;
}

html [layout][vertical] {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -ms-flex-direction: column;
      flex-direction: column;
}

html [flex] {
  -webkit-box-flex: 1;
      -ms-flex: 1;
          flex: 1;
  -ms-flex-preferred-size: 1e-9px;
      flex-basis: 1e-9px;
}

/* alignment in cross axis */
html [layout][cross-center], html [layout][center-center] {
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
}

html [layout][cross-end] {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}

/* alignment in main axis */
html [layout][main-center], html [layout][center-center] {
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

html [layout][main-justified] {
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
}

html [layout][main-distributed] {
  -ms-flex-pack: distribute;
      justify-content: space-around;
}

/*******************************
Other Layout
*******************************/
/* ie support for hidden */
html [hidden] {
  display: none !important;
}

html [relative] {
  position: relative;
}

/** Header **/
.header {
  height: 64px;
  background: #009688;
  -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 0 4px 8px rgba(0, 0, 0, 0.28);
          box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 0 4px 8px rgba(0, 0, 0, 0.28);
  padding: 0 16px;
  z-index: 2;
}

.header_title {
  font-size: 32px;
  line-height: 64px;
  color: #FFF;
  margin: 0;
  padding: 0;
}

.header_version-display {
  font-size: 14px;
  color: #FFF;
}

[navigation] {
  /*
  * And let's fade it in from the left
  */
}
@media (max-width: 700px) {
  [navigation] [menuToggle] {
    display: block;
    position: relative;
    z-index: 1;
    top: 3px;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
  }
}
[navigation] input {
  display: none;
}
@media (max-width: 700px) {
  [navigation] input {
    display: block;
    width: 40px;
    height: 32px;
    position: absolute;
    top: -7px;
    left: -5px;
    cursor: pointer;
    opacity: 0;
    /* hide this */
    z-index: 2;
    /* and place it over the hamburger */
    -webkit-touch-callout: none;
  }
  [navigation] input:checked ~ ul {
    -webkit-transform: scale(1, 1);
            transform: scale(1, 1);
    opacity: 1;
  }
  [navigation] input:checked ~ span {
    opacity: 1;
    -webkit-transform: rotate(45deg) translate(-2px, -1px);
            transform: rotate(45deg) translate(-2px, -1px);
    background: #232323;
  }
  [navigation] input:checked ~ span:nth-last-child(3) {
    opacity: 0;
    -webkit-transform: rotate(0deg) scale(0.2, 0.2);
            transform: rotate(0deg) scale(0.2, 0.2);
  }
  [navigation] input:checked ~ span:nth-last-child(2) {
    opacity: 1;
    -webkit-transform: rotate(-45deg) translate(0, -1px);
            transform: rotate(-45deg) translate(0, -1px);
  }
}
[navigation] span {
  display: none;
}
@media (max-width: 700px) {
  [navigation] span {
    display: block;
    width: 33px;
    height: 4px;
    margin-bottom: 5px;
    position: relative;
    background: #FFF;
    border-radius: 3px;
    z-index: 1;
    -webkit-transform-origin: 4px 0px;
            transform-origin: 4px 0px;
    -webkit-transition: background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease, -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
    transition: background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease, -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease;
    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), background 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity 0.55s ease, -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
  }
  [navigation] span:first-child {
    -webkit-transform-origin: 0% 0%;
            transform-origin: 0% 0%;
  }
  [navigation] span:nth-last-child(2) {
    -webkit-transform-origin: 0% 100%;
            transform-origin: 0% 100%;
  }
}
[navigation] .options {
  list-style-type: none;
  height: 100%;
}
[navigation] .options > li {
  display: inline-block;
  height: 100%;
}
[navigation] .options a {
  color: #FFF;
  text-transform: uppercase;
  height: 100%;
  padding: 8px;
  display: inline-block;
  line-height: 48px;
  border-bottom: 3px solid transparent;
}
[navigation] .options a.active {
  border-bottom: 3px solid #FFC107;
}
[navigation] .options a:hover {
  border-bottom: 3px solid #FFF;
}
@media (max-width: 700px) {
  [navigation] .options {
    padding-top: 64px;
    position: fixed;
    display: block;
    width: 100vw;
    height: 100vh;
    right: 0;
    top: 0;
    background: #ededed;
    list-style-type: none;
    -webkit-font-smoothing: antialiased;
    /* to stop flickering of text in safari */
    -webkit-transform-origin: 0% 0%;
            transform-origin: 0% 0%;
    -webkit-transform: translate(100%, 0);
            transform: translate(100%, 0);
    -webkit-transition: -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
    transition: -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
    transition: transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1), -webkit-transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1);
  }
  [navigation] .options > li {
    display: block;
    height: auto;
    text-align: center;
  }
  [navigation] .options a {
    color: #222;
    height: auto;
    width: 100%;
    display: block;
  }
  [navigation] .options a.active {
    color: #FFC107;
    border: none;
  }
  [navigation] .options a:hover {
    background: #CCC;
    border: none;
  }
}

/** Footer **/
.footer {
  height: 40px;
  background: #222;
  color: rgba(255, 255, 255, 0.87);
  padding: 0 16px;
}
.footer a {
  color: rgba(255, 255, 255, 0.87);
  font-weight: bold;
}

/** Content **/
[viewport] {
  min-height: calc(100% - 104px);
}
@media (max-width: 900px) {
  [viewport] {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
        -ms-flex-direction: column !important;
            flex-direction: column !important;
    min-height: 0;
  }
}

[main] {
  padding: 16px;
  overflow-y: auto;
}
@media (max-width: 900px) {
  [main] {
    overflow: initial;
  }
}
@media (max-width: 599px) {
  [main] > [layout] .chart-legend {
    width: 100%;
  }
}
@media (max-width: 599px) {
  [main] > [layout] {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
        -ms-flex-direction: column !important;
            flex-direction: column !important;
  }
}

/** Error **/
.error {
  position: fixed;
  left: 20px;
  bottom: 50px;
  background-color: #323232;
  padding: 12px 24px 17px 24px;
  vertical-align: middle;
  color: #fff;
  -webkit-box-shadow: 0 7px 18px rgba(0, 0, 0, 0.2);
          box-shadow: 0 7px 18px rgba(0, 0, 0, 0.2);
}
.error:empty {
  display: none;
}

/** Inputs **/
input[type=number],
input[type=text],
input[type=password],
input[type=datetime-local] {
  width: 100%;
  max-width: 280px;
  margin: 16px 0;
  display: block;
  border: none;
  padding: 18px 0 10px;
  border-bottom: solid 1px #009688;
  -webkit-transition: all 0.3s cubic-bezier(0.64, 0.09, 0.08, 1);
  transition: all 0.3s cubic-bezier(0.64, 0.09, 0.08, 1);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(96%, rgba(255, 255, 255, 0)), color-stop(4%, #009688));
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 96%, #009688 4%);
  background-position: -100% 0;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  color: #00302c;
}
input[type=number]:focus,
input[type=text]:focus,
input[type=password]:focus,
input[type=datetime-local]:focus {
  -webkit-box-shadow: none;
          box-shadow: none;
  outline: none;
  background-position: 0 0;
}
input[type=number]:focus::-webkit-input-placeholder,
input[type=text]:focus::-webkit-input-placeholder,
input[type=password]:focus::-webkit-input-placeholder,
input[type=datetime-local]:focus::-webkit-input-placeholder {
  color: #009688;
  font-size: 11px;
  -webkit-transform: translateY(-20px);
          transform: translateY(-20px);
  visibility: visible !important;
  -webkit-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;
}
input[type=number]:focus:-ms-input-placeholder,
input[type=text]:focus:-ms-input-placeholder,
input[type=password]:focus:-ms-input-placeholder,
input[type=datetime-local]:focus:-ms-input-placeholder {
  color: #009688;
  font-size: 11px;
  transform: translateY(-20px);
  visibility: visible !important;
  -webkit-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;
}
input[type=number]:focus::-ms-input-placeholder,
input[type=text]:focus::-ms-input-placeholder,
input[type=password]:focus::-ms-input-placeholder,
input[type=datetime-local]:focus::-ms-input-placeholder {
  color: #009688;
  font-size: 11px;
  transform: translateY(-20px);
  visibility: visible !important;
  -webkit-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;
}
input[type=number]:focus::placeholder,
input[type=text]:focus::placeholder,
input[type=password]:focus::placeholder,
input[type=datetime-local]:focus::placeholder {
  color: #009688;
  font-size: 11px;
  -webkit-transform: translateY(-20px);
          transform: translateY(-20px);
  visibility: visible !important;
  -webkit-transition: all 0.3s ease-in-out;
  transition: all 0.3s ease-in-out;
}
input[type=number]:invalid,
input[type=text]:invalid,
input[type=password]:invalid,
input[type=datetime-local]:invalid {
  background: -webkit-gradient(linear, left top, left bottom, color-stop(96%, rgba(255, 255, 255, 0)), color-stop(4%, red));
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 96%, red 4%);
}

/** Utils **/
.hide {
  display: none !important;
}

/** Buttons **/
.btn {
  display: inline-block;
  position: relative;
  cursor: pointer;
  height: 35px;
  line-height: 35px;
  padding: 0 1.5rem;
  font-size: 15px;
  font-weight: 600;
  letter-spacing: 0.8px;
  text-align: center;
  text-transform: uppercase;
  vertical-align: middle;
  white-space: nowrap;
  outline: none;
  border: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  -webkit-transition: all 0.3s ease-out;
  transition: all 0.3s ease-out;
  background-color: transparent;
  margin-right: 8px;
}
.btn[disabled] {
  color: #BDBDBD;
}
.btn[disabled]:hover {
  background-color: transparent;
  cursor: not-allowed;
}

.btn--raised {
  background-color: #009688;
  color: #fff;
  -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
}
.btn--raised:hover {
  background-color: #00635a;
}

.btn--primary {
  color: #009688;
}

.btn:hover {
  background-color: rgba(153, 153, 153, 0.2);
  cursor: pointer;
}

.card {
  display: block;
  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  -webkit-transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  padding: 16px;
  position: relative;
  margin-bottom: 16px;
}

.card:hover {
  -webkit-box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
          box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}

.card-footer {
  padding: 16px 0 0;
  margin: 8px 0 0;
  border-top: 1px solid #CCC;
  text-align: right;
}

.inline-header {
  width: 140px;
  min-width: 140px;
  font-weight: bold;
  padding-right: 8px;
}

.small-heading {
  font-size: 20px;
  padding: 16px 0 8px;
}

/** Modal **/
.modal {
  display: none;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 1000;
  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  -webkit-transition-delay: 0s;
          transition-delay: 0s;
  background: rgba(0, 0, 0, 0.3);
}

.modal-content {
  position: relative;
  padding: 2.4rem;
  background: #FFF;
  background-clip: padding-box;
  -webkit-box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.25);
          box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.25);
  -webkit-transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
  transition: all 0.25s cubic-bezier(0.23, 1, 0.32, 1);
  max-width: 600px;
  padding: 2rem;
}
.modal-content h2.message {
  font-size: 18px;
  font-weight: bold;
  text-transform: uppercase;
}

select.md {
  width: 100%;
  font-size: 16px;
  height: 25.6px;
  padding: 4 4 2;
  background: none;
  border: none;
  line-height: 1.6;
  -webkit-box-shadow: none;
          box-shadow: none;
}

/** Switch **/
.switch-input {
  display: none;
}

.switch-label {
  position: relative;
  display: inline-block;
  min-width: 148px;
  cursor: pointer;
  font-weight: 500;
  text-align: left;
  margin: 0;
  padding: 4px 0 4px 44px;
}

.switch-label:before, .switch-label:after {
  content: "";
  position: absolute;
  margin: 0;
  outline: 0;
  top: 50%;
  -webkit-transform: translate(0, -50%);
          transform: translate(0, -50%);
  -webkit-transition: all 0.3s ease;
  transition: all 0.3s ease;
}

.switch-label:before {
  left: 1px;
  width: 34px;
  height: 14px;
  background-color: #DDD;
  border-radius: 8px;
}

.switch-label:after {
  left: 0;
  width: 20px;
  height: 20px;
  background-color: #FAFAFA;
  border-radius: 50%;
  -webkit-box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.14), 0 2px 2px 0 rgba(0, 0, 0, 0.098), 0 1px 5px 0 rgba(0, 0, 0, 0.084);
          box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.14), 0 2px 2px 0 rgba(0, 0, 0, 0.098), 0 1px 5px 0 rgba(0, 0, 0, 0.084);
}

.switch-input:checked + .switch-label:after {
  background-color: #4CAF50;
  -webkit-transform: translate(80%, -50%);
          transform: translate(80%, -50%);
}

.switch-input:checked + label[for=beer-temp].switch-label:after {
  background-color: #29aa29;
}

.switch-input:checked + label[for=beer-set].switch-label:after {
  background-color: #f06464;
}

.switch-input:checked + label[for=fridge-temp].switch-label:after {
  background-color: #59b8ff;
}

.switch-input:checked + label[for=fridge-set].switch-label:after {
  background-color: #ffa14c;
}

.switch-input:checked + label[for=room-temp].switch-label:after {
  background-color: #AAAAAA;
}

.switch-input:checked + label[for=gravity].switch-label:after {
  background-color: #990099;
}

.switch-input:checked + label[for=aux-temp].switch-label:after {
  background-color: #f5e127;
}

.switch-input:checked + label[for=filtersg].switch-label:after {
  background-color: #000abb;
}

.switch-input:checked + label[for=pressure].switch-label:after {
  background-color: #0000EE;
}

.switch-input:checked + label[for=pressure-set].switch-label:after {
  background-color: #f06464;
}

.switch-input:checked + label[for=carbonation].switch-label:after {
  background-color: #AAAAAA;
}

.switch-input:checked + label[for=humidity].switch-label:after {
  background-color: #2222DD;
}

.switch-input:checked + label[for=humidity-set].switch-label:after {
  background-color: #EE1111;
}

.switch-input:checked + label[for=room-humidity].switch-label:after {
  background-color: #AAAAAA;
}

.coefficient {
  min-width: 64px;
  padding: 0 8px;
}

.tilt-field {
  opacity: 0;
  -webkit-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}

.tilt-header {
  padding-left: 8px;
}

#cal:checked ~ .tilt-field {
  opacity: 1;
}

.modal-content {
  margin-left: auto;
  margin-right: auto;
  margin-top: 2em;
  margin-bottom: 4em;
}

/*# sourceMappingURL=style-gravity.css.map */
</style>
<style>
.caltable td,
th {
  padding: 6px 4px;
  text-align: center;
}

.caltable td:not(:last-child),
th:not(:last-child) {
  border-right: 1px solid rgba(0, 0, 0, 0.87);
}

.caltable tbody:empty:before {
  content: "No data.";
  padding: 16px;
  display: block;
}

.caltable tbody tr.odd {
  background: #EEE;
}

.caltable tbody tr.even {
  background: #FFF;
}

table.caltable {
  width: 100%;
  border-collapse: collapse;
  margin:2em;
}
table.caltable thead {
  border-bottom: 1px solid rgba(0, 0, 0, 0.87);
}    
</style>
</head>

<body onload="init()">

    <header layout horizontal main-justified cross-center relative class="header">
    <h1 class="header_title"><span id="hostname">BrewPiLess</span> <span id="verinfo" class="header_version-display"></span></h1>
    <div navigation>
        <div menutoggle>
            <input type="checkbox">
            <span></span>
            <span></span>
            <span></span>
            <ul class="options">
                <li>
                    <a href="/index.htm">
                        graf
                    </a>
                </li>
                <li>
                    <a href="/control.htm">
                        kontroll
                    </a>
                </li>
                <li>
                    <a href="/logging.htm">
                        logger
                    </a>
                </li>
                <li>
                    <a href="/setup.htm">
                        oppsett
                    </a>
                </li>
                <li>
                    <a href="/config.htm">
                        config
                    </a>
                </li>
                <li>
                    <a href="/gravity.htm">
                        egenvekt
                    </a>
                    </li><li>
                        <a href="/pressure.htm">
                            Trykk
                        </a>
                    </li>
     
                
            </ul>
        </div>
    </div>
</header>

    <div viewport layout vertical>
        <div main>
            <div class="card">
                <form action="" method="post">

                    <div layout horizontal main-justified cross-center>
                        <h5>
                            Tilt Hydrometer
                        </h5>
                        <div>
                            <input type="checkbox" id="tilthydrometer" name="tilthydrometer" class="switch-input" checked="checked">
                            <label for="tilthydrometer" class="switch-label" style="min-width: 0;"></label>
                        </div>
                    </div>

                    <div layout horizontal cross-center class="tiltsub">
                        <h6>
                            Tilt Hydrometer Color
                        </h6>
                        <div>
                            <select id="tiltcolor" name="color" class="slot-select" style="margin-left: 2em;">
                                <option value="0"> Red</option>
                                <option value="1"> Green</option>
                                <option value="2"> Black</option>
                                <option value="3"> Purple</option>
                                <option value="4"> Orange</option>
                                <option value="5"> Blue</option>
                                <option value="6"> Yellow</option>
                                <option value="7"> Pink</option>
                            </select>
                        </div>
                    </div>

                    <div layout horizontal cross-center class="tiltsub">
                            <button id="addbutton" onclick="tiltcal(); return false;" class="btn btn--raised">Calibration</button>
                    </div>

                    <div layout horizontal main-justified cross-center>
                        <h5>iSpindel</h5>
                        <div>
                            <input type="checkbox" id="ispindel" name="ispindel" class="switch-input" checked="checked">
                            <label for="ispindel" class="switch-label" style="min-width: 0;"></label>
                        </div>
                    </div>

                    <div layout horizontal main-justified cross-center class="ispindelsub">
                        <h6 class="inline-header">
                            Beregnet av BPL
                        </h6>
                        <div>
                            <input type="checkbox" id="cbpl" name="cbpl" class="switch-input" checked="checked">
                            <label for="cbpl" class="switch-label" style="min-width: 0;"></label>
                        </div>
                    </div>

                    <div layout horizontal cross-center class="ispindelsub">
                        <h6 class="inline-header">
                            Temp. korreksjon
                        </h6>
                        <div layout horizontal main-justified cross-center flex>
                            <div layout horizontal cross-center>
                                <input type="text" name="ctemp" size="4">
                                <span>&deg;C</span>
                            </div>
                            <div>
                                <input type="checkbox" id="tc" name="tc" class="switch-input" checked="checked">
                                <label for="tc" class="switch-label" style="min-width: 0;"></label>
                            </div>
                        </div>
                    </div>

                    <div layout horizontal cross-center class="ispindelsub">
                        <h6 class="inline-header">
                            Faktor
                        </h6>
                        <input type="text" name="a3" size="15">
                        <div class="coefficient" layout horizontal main-center>x³ +</div>
                        <input type="text" name="a2" size="15">
                        <div class="coefficient" layout horizontal main-center>x² +</div>
                        <input type="text" name="a1" size="15">
                        <div class="coefficient" layout horizontal main-center>x +</div>
                        <input type="text" name="a0" size="15">
                        <div class="coefficient" layout horizontal main-center></div>
                    </div>

                    <div layout horizontal cross-center class="ispindelsub">
                        <h6 class="inline-header">
                            Faktor for LowPass-filter
                        </h6>
                        <input type="text" name="lpc" size="4">
                    </div>

                    <div layout horizontal main-justified cross-center>
                        <h6>
                            Bruk Platon
                        </h6>
                        <div>
                            <input type="checkbox" id="plato" name="plato" class="switch-input" checked="checked">
                            <label for="plato" class="switch-label" style="min-width: 0;"></label>
                        </div>
                    </div>

                    <div layout horizontal cross-center>
                        <h6 class="inline-header">
                            Stabilitetsgrense for egenvekt
                        </h6>
                        <input type="text" name="stpt" size="4">
                        verdi, 1 = 0,001 for SG, eller 0,1 og P; for Platon
                    </div>

                    <div class="card-footer">
                        <input type="submit" name="submit" class="btn btn--raised" onclick="save();return false;">
                    </div>
                </form>
            </div>
        </div>
    </div>


    <div id="dlg_addcalpoint" class="modal">
        <div class="modal-content">
            <h5><span class="modal-title">
                Tilt Calibration
            </span>
            </h5>
             <div layout horizontal cross-center>
                    <label for="uncalvalue"> uncalibrated reading </label>
                    <input id="uncalvalue" type="number" style="max-width: 6em;">
                    <label for="calvalue"> real value </label>
                    <input id="calvalue" type="number" style="max-width: 6em;">
                    <button class="btn btn--raised" onclick="TCEditor.add();">Legg til</button>
             </div>

             <div layout horizontal main-justified cross-center>
                <span id="scanreading"></span>
             </div>
             <hr style="margin:1.5em">

             <div layout horizontal cross-center class="tiltsub" style="max-width:320px">
                <table class="caltable" id="tiltcalpoints">
                    <thead>
                        <tr>
                            <th>
                            </th>
                        <th>
                            uncalibrated
                        </th>
                        <th>
                            calibrated
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="calpoint">
                        <td><button class="delbutton btn" style="color: red;">X</button></td>
                        <td class="uncaldata"></td>
                        <td class="caldata"></td>
                    </tr>
                    </tbody>
                    </table>
            </div>

            <div class="dialog-buttons" style="float:right">
                <button class="btn btn--raised" onclick="return closeTiltCal();">OK</button>
            </div>
        </div>
    </div>


    <footer layout horizontal main-justified cross-center class="footer">
    <span>BrewPiLess by <a href="https://github.com/vitotai/">vitotai</a></span>
    <span><a href="https://github.com/vitotai/BrewPiLess/">project on GitHub</a></span>
</footer>

</body>

</html>
